<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @copyright   Copyright (c) 2014 X.commerce, Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php
/** @var \Magento\Customer\Block\Adminhtml\Edit\Renderer\Attribute\Sendemail $this */
$element = $this->getElement();
?>

<div class="field field-<?php echo $element->getId() ?>">
    <?php echo $element->getLabelHtml(); ?>
    <div class="control">
        <?php echo $element->getElementHtml(); ?>
    </div>
</div>

<script type="text/javascript">
require(['prototype'], function(){

    document.observe('dom:loaded', function() {
        $('<?php echo $this->getFormHtmlId() ?>website_id').disableSendemail = function() {
            $('<?php echo $this->getFormHtmlId() ?>sendemail').disabled = ('' == this.value || '0' == this.value);
        <?php if(!$this->isSingleStoreMode()): ?>
            $('<?php echo $this->getFormHtmlId() ?>sendemail_store_id').disabled=(''==this.value || '0'==this.value);
        <?php endif; ?>
        }.bind($('<?php echo $this->getFormHtmlId() ?>website_id'));
        Event.observe(
            '<?php echo $this->getFormHtmlId() ?>website_id',
            'change',
            $('<?php echo $this->getFormHtmlId() ?>website_id').disableSendemail
        );
        $('<?php echo $this->getFormHtmlId() ?>website_id').disableSendemail();
    });

});
</script>
