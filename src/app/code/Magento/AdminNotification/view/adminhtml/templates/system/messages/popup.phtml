<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 * 
 * @copyright Copyright (c) 2014 X.commerce, Inc. (http://www.magentocommerce.com)
 * @license   http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php /** @var $this \Magento\AdminNotification\Block\System\Messages\UnreadMessagePopup */ ?>
<div id="system_messages_list" title="<?php echo $this->escapeHtml($this->getPopupTitle()); ?>">
    <ul class="message-system-list">
        <?php foreach ($this->getUnreadMessages() as $message): ?>
            <li class="<?php echo $this->getItemClass($message);?>">
                <?php echo $message->getText();?>
            </li>
        <?php endforeach;?>
    </ul>
</div>
<script type="text/javascript">
require([
    "jquery",
    "jquery/ui"
], function($){

    $(function() {
        $("#system_messages_list").dialog({
            autoOpen: true,
            resizable: false,
            width: 650,
            position: {
                using: function(pos) {
                    $(this).css({
                        "position": "absolute",
                        "top": Math.ceil($(window).height()/2 - $(this).height()/2),
                        "left": pos.left
                    });
                }
            }
        });
    });

});
</script>
